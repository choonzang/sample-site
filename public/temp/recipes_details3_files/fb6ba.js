!function(s){"use strict";function o(t,a){if(t&&t.length){var e=t.attr("data-post-id"),i=t.data("like-count"),n=s("[data-post-id="+e+"]");n&&n.length&&(i=a?parseInt(i,10)+1:i-1,n.data("like-count",Math.max(0,i)),n.find(".count").text((o=i,(o=parseInt(o,10))<1?0:1e6<=o?(o=Math.floor(o/1e5)/10)+"M":1e3<=o?(o=Math.floor(o/100)/10)+"K":o)))}var o}var l={likes:!1,itemName:"loftocean/liked",init:function(){if(s(".post-like").length){var t=window.localStorage.getItem(l.itemName);t&&(l.likes=JSON.parse(t),l.hasLikes()&&s(document).ready(function(){l.addLikedClass()}))}s(document).on("loftcean/moreContent/loaded",function(){l.addLikedClass()})},addLikedClass:function(){l.hasLikes()&&l.likes.forEach(function(t){var a=s(".post-like[data-post-id="+t+"]");a.length&&a.addClass("liked")})},set:function(t){l.hasLikes()?-1===l.likes.indexOf(t)&&(l.likes.push(t),l.save()):(l.likes=[t],l.save())},isLiked:function(t){return!!l.hasLikes()&&-1!==l.likes.indexOf(t)},remove:function(t){if(l.hasLikes()){var a=l.likes.indexOf(t);-1!==a&&(l.likes.splice(a,1),l.save())}},save:function(){window.localStorage.setItem(l.itemName,JSON.stringify(l.likes))},hasLikes:function(){return l.likes&&Array.isArray(l.likes)}};l.init(),s(document).ready(function(){s(".post-like").length&&s("body").on("click",".post-like",function(t){t.preventDefault();var a=s(this);if(!a.data("animating")){var e=a.attr("data-post-id"),i=s(".post-like[data-post-id="+e+"]");if(i.data("animating",!0),a.hasClass("liked")){var n={action:loftocean_ajax.like.action,post_id:e,unliked:!0};s.post(loftocean_ajax.url,n).done(function(){l.remove(e),0<a.data("like-count")&&(o(a,!1),i.removeClass("liked")),i.data("animating",!1)})}else if(e&&!l.isLiked(e)){n={action:loftocean_ajax.like.action,post_id:e};i.addClass("liked clicking"),s.post(loftocean_ajax.url,n).done(function(){l.set(e),o(a,!0),i.data("animating",!1),i.removeClass("clicking")})}else i.data("animating",!1)}return!1}),s(".article-share a.popup-window, .tweet-it, .social-share-icons > a").length&&s("body").on("click",".article-share a.popup-window, .tweet-it, .social-share-icons > a",function(t){t.preventDefault();var a=s(this),e=a.attr("data-props")?a.attr("data-props"):"width=555,height=401";return window.open(a.attr("href"),a.attr("title"),e),!1})})}(jQuery);

;/*! This file is auto-generated */
!function(d,l){"use strict";var e=!1,o=!1;if(l.querySelector)if(d.addEventListener)e=!0;if(d.wp=d.wp||{},!d.wp.receiveEmbedMessage)if(d.wp.receiveEmbedMessage=function(e){var t=e.data;if(t)if(t.secret||t.message||t.value)if(!/[^a-zA-Z0-9]/.test(t.secret)){var r,a,i,s,n,o=l.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),c=l.querySelectorAll('blockquote[data-secret="'+t.secret+'"]');for(r=0;r<c.length;r++)c[r].style.display="none";for(r=0;r<o.length;r++)if(a=o[r],e.source===a.contentWindow){if(a.removeAttribute("style"),"height"===t.message){if(1e3<(i=parseInt(t.value,10)))i=1e3;else if(~~i<200)i=200;a.height=i}if("link"===t.message)if(s=l.createElement("a"),n=l.createElement("a"),s.href=a.getAttribute("src"),n.href=t.value,n.host===s.host)if(l.activeElement===a)d.top.location.href=t.value}}},e)d.addEventListener("message",d.wp.receiveEmbedMessage,!1),l.addEventListener("DOMContentLoaded",t,!1),d.addEventListener("load",t,!1);function t(){if(!o){o=!0;var e,t,r,a,i=-1!==navigator.appVersion.indexOf("MSIE 10"),s=!!navigator.userAgent.match(/Trident.*rv:11\./),n=l.querySelectorAll("iframe.wp-embedded-content");for(t=0;t<n.length;t++){if(!(r=n[t]).getAttribute("data-secret"))a=Math.random().toString(36).substr(2,10),r.src+="#?secret="+a,r.setAttribute("data-secret",a);if(i||s)(e=r.cloneNode(!0)).removeAttribute("security"),r.parentNode.replaceChild(e,r)}}}}(window,document);